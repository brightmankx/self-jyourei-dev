<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">

    <!-- ▼ 画面回転を完全に禁止する最強設定 -->
    <meta name="viewport"
          content="width=device-width,
                   initial-scale=1.0,
                   maximum-scale=1.0,
                   user-scalable=no,
                   viewport-fit=cover">

    <!-- Android Chrome / WebView 用：縦固定 -->
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">

    <!-- PWA 用：縦固定（manifest.json と連動） -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>セルフ浄霊</title>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght:300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">

    <!-- ▼ CSS で縦固定を物理的に強制 -->
    <style>
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            touch-action: none; /* 回転ジェスチャー無効化 */
        }

        /* iOS Safari の回転抑止 */
        body {
            transform: rotate(0deg) !important;
            transform-origin: center center;
        }
    </style>
</head>

<body>

    <!-- ▼ 設定ダイアログ -->
    <div id="settingsOverlay">
        <div id="settingsDialog">

            <div class="dialog-scroll">

                <div class="dialog-section-title">シェイク感度設定</div>
                <div class="row-center">
                    <div id="btnMinus" class="btn-square">−</div>
                    <div id="tvSensitivityValue" class="value-text">12</div>
                    <div id="btnPlus" class="btn-square">＋</div>
                </div>

                <div class="dialog-section-title">暗唱文字サイズ</div>
                <div class="row-center">
                    <div id="btnSmall" class="btn-size">小</div>
                    <div id="btnMedium" class="btn-size">中</div>
                    <div id="btnLarge" class="btn-size">大</div>
                </div>

                <div class="dialog-section-title">このアプリについて</div>
                <div class="dialog-description">
                    振ると錫杖、タップでおりんやティンシャの音が出ます。<br>
                    経典をタップすると暗唱練習モードになります。
                </div>
                <div class="dialog-description">
                    音は大大サイズの錫杖の音です。<br>
                    真言を唱えながら自身の霊力を高め、穢れを浄化・浄霊しましょう。
                </div>

            </div>

            <div class="dialog-buttons">
                <div id="btnCancel" class="btn-bottom">キャンセル</div>
                <div id="btnOk" class="btn-bottom">OK</div>
            </div>

            <div class="dialog-footer">
                アプリ内コンテンツの無断転載・複製を禁じます。Copyright 2026 Brightman.kx
            </div>

        </div>
    </div>

    <!-- ▼ メイン画面 -->
    <div id="container">

        <div id="title">セルフ浄霊</div>

        <img src="ic_settings.png" id="btnSettings" class="icon-button" alt="設定">

        <img src="tin.png" id="btnTin" class="action-button" alt="ティンシャ">

        <img src="bowl.png" id="btnBowl" class="action-button" alt="おりん">

        <img src="kyouten.png" id="btnKyouten" class="action-button" alt="経典">

        <a href="https://www.youtube.com/@jasmine358" target="_blank">
            <img src="powered_by.png" id="btnPowered" class="powered" alt="Powered by Jasmine">
        </a>

    </div>

    <!-- ▼ スクリプト -->
    <script src="script.js"></script>

    <!-- ▼ PWA Service Worker 登録 -->
    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("service-worker.js")
                .catch(err => console.log("SW registration failed:", err));
        }
    </script>

</body>
</html>